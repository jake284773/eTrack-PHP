{% extends "layouts.single" %}

{% block title %}{{ subjectSector.name }} ({{ subjectSector.id }}){% endblock %}
{% block mainclass %}col-md-8{% endblock %}

{% block content %}
  <header class="page-header">
    <ol class="breadcrumb">
      <li><a href="{{ route('home') }}">Home</a></li>
      <li><a href="{{ route('admin.subjectsectors.index') }}">Subject sectors</a></li>
      <li class="active">{{ subjectSector.name }}</li>
    </ol>
    <hgroup>
      {% if session_has('successMessage') %}
        <div class="alert alert-success">
          {{ session_get('successMessage') }}
        </div>
      {% endif %}

      {% if session_has('infoMessage') %}
        <div class="alert alert-info">
          {{ session_get('infoMessage') }}
        </div>
      {% endif %}

      {% if session_has('errorMessage') %}
        <div class="alert alert-danger">
          {{ session_get('errorMessage') }}
        </div>
      {% endif %}

      <h1 class="heading-large">
        {{ block('title') }}
        <span class="pull-right">
          <a href="{{ route('admin.subjectsectors.edit', subjectSector.id) }}" class="btn btn-default btn-sm">Edit</a>
          <a href="{{ route('admin.subjectsectors.delete_confirm', subjectSector.id) }}" data-toggle="modal" data-target="#web-modal" class="btn btn-danger btn-sm">Delete</a>
        </span>
      </h1>
    </hgroup>
  </header>

  <article>
    <ul class="nav nav-tabs">
      <li class="active"><a href="#courses" data-toggle="tab">Courses</a></li>
      <li><a href="#units" data-toggle="tab">Units</a></li>
    </ul>

    <div class="tab-content">
      <div class="tab-pane active" id="courses">
        <table class="table table-responsive">
          <thead>
            <tr>
              <th>Course code</th>
              <th>Course name</th>
              <th>Course Organiser</th>
            </tr>
          </thead>

          <tbody>
            {% for course in subjectSector.courses %}
              <tr>
                <td>{{ course.id }}</td>
                <td>{{ course.name }}</td>
                <td>{{ course.course_organiser.full_name }}</td>
              </tr>
            {% else %}
              <tr><td colspan="3">No courses were found.</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <div class="tab-pane" id="units">
        <table class="table table-responsive">
          <thead>
            <tr>
              <th>Unit ID</th>
              <th>Unit number</th>
              <th>Unit name</th>
            </tr>
          </thead>

          <tbody>
            {% for unit in subjectSector.units %}
              <tr>
                <td>{{ unit.id }}</td>
                <td>{{ unit.number }}</td>
                <td>{{ unit.name }}</td>
              </tr>
            {% else %}
              <tr><td colspan="3">No units were found.</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
  </article>
{% endblock %}
